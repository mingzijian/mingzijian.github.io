

### 数据页

在操作系统中，内存里的数据是不安全的，需要持久化到磁盘。

向 MySQL 插入数据，最终也会保存到磁盘。

在日常应用中，往往需要频繁的查询库中的数据，假设每次都一条一条的查询数据，每次查询的数据往往只有几k，那样会产生大量的read系统调用，每次系统调用就会产生操作系统中断，进行用户态和内核态的切换，导致读取效率低下。

为了避免一条一条读取磁盘数据， InnoDB采取页的方式，作为磁盘和 内存之间交互的基本单位。

一个页 的大小一般是16KB。

通过页可以一次将多条相邻的数据取出缓存到内存中，提高查询效率。

![image-20240329154714858](https://gitee.com/mingzijian/resources/raw/master/picgo/2024-03/image-20240329154714858.png)

### 缓冲池LRU算法

缓冲池使用 LRU 算法的变体作为列表进行管理。当需要空间向缓冲池添加新页面时，最近最少使用的页面将被逐出，并将新页面添加到列表的中间。这种中点插入策略将列表视为两个子列表：

- 在头部，最近访问的 新（ “年轻” ）页面的子列表
- 在尾部，是最近访问较少的旧页面的子列表

![缓冲池列表](https://gitee.com/mingzijian/resources/raw/master/picgo/2024-03/innodb-buffer-pool-list.png)