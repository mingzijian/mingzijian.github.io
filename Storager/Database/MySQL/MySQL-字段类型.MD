MySQL 字段类型
-------------------------

## 数值类型

| 类型         | 大小                                                         | 范围（有符号）                                               | 范围（无符号）                                               | 用途            |
| :----------- | :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- | :-------------- |
| TINYINT      | 1 byte                                                       | (-128，127)                                                  | (0，255)                                                     | 小整数值        |
| SMALLINT     | 2 bytes                                                      | (-32 768，32 767)                                            | (0，65 535)                                                  | 大整数值        |
| MEDIUMINT    | 3 bytes                                                      | (-8 388 608，8 388 607)                                      | (0，16 777 215)                                              | 大整数值        |
| INT或INTEGER | 4 bytes                                                      | (-2 147 483 648，2 147 483 647)                              | (0，4 294 967 295)                                           | 大整数值        |
| BIGINT       | 8 bytes                                                      | (-9,223,372,036,854,775,808，9 223 372 036 854 775 807)      | (0，18 446 744 073 709 551 615)                              | 极大整数值      |
| FLOAT        | 4 bytes                                                      | (-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38) | 0，(1.175 494 351 E-38，3.402 823 466 E+38)                  | 单精度 浮点数值 |
| DOUBLE       | 8 bytes                                                      | (-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308) | 0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308) | 双精度 浮点数值 |
| DECIMAL      | 对DECIMAL(M,D) ，<br>如果M>D，为(M+2)bytes<br>否则为(D+2)bytes | 依赖于M和D的值, max(M,D) + 2                                 | 依赖于M和D的值 , max(M,D) + 2                                | 小数值          |

## 时间类型

| 类型      | 大小    | 范围                                                         | 格式                | 用途                     |
| :-------- | :------ | :----------------------------------------------------------- | :------------------ | :----------------------- |
| DATE      | 3 bytes | 1000-01-01 / 9999-12-31                                      | YYYY-MM-DD          | 日期值                   |
| TIME      | 3 bytes | '-838:59:59' / '838:59:59'                                   | HH:MM:SS            | 时间值或持续时间         |
| YEAR      | 1 bytes | 1901 / 2155                                                  | YYYY                | 年份值                   |
| DATETIME  | 8 bytes | 1000-01-01 00:00:00 / 9999-12-31 23:59:59                    | YYYY-MM-DD HH:MM:SS | 混合日期和时间值         |
| TIMESTAMP | 4 bytes | 1970-01-01 00:00:00 / 2038 结束时间是第 **2147483647** 秒，北京时间 **2038-1-19 11:14:07**，格林尼治时间 2038年1月19日 凌晨 03:14:07 | YYYYMMDD HHMMSS     | 混合日期和时间值，时间戳 |

## 字符串类型

| 类型       | 大小                        | 用途                                                         |
| :--------- | :-------------------------- | :----------------------------------------------------------- |
| CHAR       | 0-255 bytes                 | 定长字符串(InnoDB行格式的紧凑系列优化了可变长度字符集的存储) |
| VARCHAR    | 0-65535 bytes               | 变长字符串                                                   |
| TINYBLOB   | 0-255 bytes                 | 不超过 255 个字符的二进制字符串                              |
| TINYTEXT   | 0-255 bytes                 | 短文本字符串                                                 |
| BLOB       | 0-65 535 bytes (64K)        | 二进制形式的长文本数据                                       |
| TEXT       | 0-65 535 bytes (64K)        | 长文本数据                                                   |
| MEDIUMBLOB | 0-16 777 215 bytes (16M)    | 二进制形式的中等长度文本数据                                 |
| MEDIUMTEXT | 0-16 777 215 bytes (16M)    | 中等长度文本数据                                             |
| LONGBLOB   | 0-4 294 967 295 bytes (4G)  | 二进制形式的极大文本数据                                     |
| LONGTEXT   | 0-4 294 967 295 bytes (4G)  | 极大文本数据                                                 |

### BLOB

#### 四种BLOB类型大小限制

| 类型       | 大小上限(字节) |
| ---------- | -------------- |
| tinyblob   | 255            |
| blob       | 64K            |
| mediumblob | 16M            |
| longblob   | 4G             |

#### BLOG 转 String
一般情况下,CAST 比 CONVERT 效率高

- CONVERT USING UTF8
```sql
select CONVERT(GROUP_CONCAT('BLOB字段名')USING UTF8) as base64string from tb_blob where id =1; 
```

- CAST AS CHAR
```sql
select CAST(GROUP_CONCAT('BLOB字段名') AS CHAR) as base64string from tb_blob where id =1; 
```



### 参考

- https://dev.mysql.com/doc/refman/8.0/en/storage-requirements.html#data-types-storage-reqs-strings