Redis 协议说明
---------------------
Redis客户端与Redis服务器通信的协议称为RESP（REdis Serialization Protocol  即 Redis序列化协议）协议。虽然该协议是专门为Redis设计的，但它也可以用于其他`client-server`软件项目。

RESP在以下几点之间做出了折中：
- 实现简单
- 解析速度快
- 人类可读

RESP可以序列化不同的数据类型，如整数、字符串、数组。还有一种特定的错误类型。请求以字符串数组的形式从客户端发送到Redis服务器，这些字符串代表要执行的命令的参数。Redis使用命令特定（command-specific）的数据类型进行响应。

RESP是二进制安全的，不需要处理从一个进程传输到另一个进程的批量数据，因为它使用前缀长度（prefixed-length）来传输批量数据。

**注意**：这里概述的协议仅用于客户机-服务器通信。Redis集群使用不同的二进制协议在节点之间交换消息。

### 网络层 
客服端通过在6379端口上创建一个TCP连接连接到Redis服务器。
虽然RESP在技术上是非TCP特定（ non-TCP specific）的，但是在Redis的上下文中，该协议只用于TCP连接（或类似于Unix套接字的面向流的连接）。

### 请求-响应模型


### RESP协议描述
RESP引入于Redis1.2，但在redis2.0中，它成为了与Redis服务器通信的标准方式。这是您应该在Redis客户机中实现的协议。

RESP实际上是一个序列化协议，它支持以下数据类型：简单字符串、错误、整数、大容量字符串和数组。

Redis用不同的回复类型回复命令。它可能从服务器发送的第一个字节开始校验回复类型：
 - 对于简单字符串，回复的第一个字节是“+”
 - 对于错误，回复的第一个字节是“-”
 - 对于整型，应答的第一个字节是“:”
 - 对于大容量字符串，回复的第一个字节是“$”
 - 对于数组，应答的第一个字节是“*”

另外，RESP可以使用后面指定的大容量字符串或数组的特殊变体来表示空值。
协议的不同部分总是以“\r\n”（CRLF）终止。

### RESP相关数据类型
#### RESP简单字符串
`"+OK\r\n"`
#### RESP错误
- 基本格式
```
"-Error message\r\n"
```
- 错误回复
```
-ERR unknown command 'foobar'
-WRONGTYPE Operation against a key holding the wrong kind of value
```

#### RESP整型

#### RESP大量字符串

#### RESP数组

#### 数组中的空元素

### 命令相关
#### 向Redis服务器发送命令

#### 多命令和流水线

#### 内联命令

### 高性能解析器
虽然Redis协议实现简单且人类易读，但它也可以具有类似于二进制协议的性能。
RESP使用前缀长度来传输大容量数据，因此不需要像JSON那样扫描负载中的特殊字符，也不需要引用需要发送到服务器的有效负载。


