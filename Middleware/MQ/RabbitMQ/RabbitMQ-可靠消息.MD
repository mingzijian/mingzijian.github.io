RabbitMQ 可靠消息
-----------------------------

### 三端可靠
#### 消息不丢失(持久化)
##### 生产者端防丢失

Redis,本地消息表
事务机制(不建议开启,同步操作,降低了吞吐量和响应时间)

##### MQ端防丢失
开启RabbitMQ的持久化(交换机、队列、消息)
##### 消费者端防丢失(最终要被消费)
尝试重回队列待重新消费,
多次消费失败回死信队列,
死信队列记录日志,系统告警,补偿,人工干预

#### 不重复消费(幂等性)
手动ACK
#### 按顺序消费(有序性)
- 拆分多个queue，每个queue对应一个consumer
- 不拆分queue，但是在consumer端内部用内存队列做排队
