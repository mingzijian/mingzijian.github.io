[TOC]

## JMeter

### 简介

一个100%纯Java应用程序，旨在负载测试功能行为和衡量性能。
它最初是为测试Web应用程序而设计的，但后来扩展到了其他测试功能。

### 下载

 - apache-jmeter-5.3 https://mirror.bit.edu.cn/apache//jmeter/binaries/apache-jmeter-5.3.zip
 - 更多版本 https://mirror.bit.edu.cn/apache/jmeter/binaries/

### 教程

#### 分布式测试

#### 记录测试

对于新手而言，创建测试计划是使用记录测试的一个简单方法。

##### 基础说明

- 启动 JMeter
  Go to JMETER_HOME/bin and start JMeter with jmeterw.bat on Windows and jmeter.sh on Linux/Unix
- 在菜单栏上选择“Templates”
- 从列表中选择"Recording"模板
- 生成完整的测试计划
- 在"HTTP Request Defaults"中配置参数
- 在"HTTP(S) Test Script Recorder"中点击"Start"按钮

#### JUnit 单元测试采样

#### 访问日志采样

#### 拓展

### 参考

 - https://jmeter.apache.org/



## Postman
### 快速开始
#### 介绍
#### 安装与升级
##### 桌面应用
- Mac
  - https://dl.pstmn.io/download/latest/osx
- Windows
  - 64位 https://dl.pstmn.io/download/latest/win64
  - 32位 https://dl.pstmn.io/download/latest/win32
- Linux
  - https://dl.pstmn.io/download/latest/linux64

##### Web应用
go.postman.co/build
#### 导航栏

#### 发送请求

#### 管理账户

#### 同步工作

#### 模板
#### 收藏夹
#### 工作区

#### 设置
##### 常规设置
##### 主题设置
选择喜欢的主题
- light （白）
- dark （黑）
##### 快捷键设置
##### 数据
- 导出
- 导入
##### 附加组件
##### 证书设置
##### 代理设置
##### 升级
##### 关于

#### 数据导入/导出
##### 导入数据
 - 导入Postman数据
 - 导入API规范
 - 通过Github仓库导入
##### 导出数据
 - 导出集合
 - 导出环境
 - 导出数据转储
#### 答疑

### 发送请求
#### 构建请求
您可以在Postman中发送请求以连接到正在使用的api。
您的请求可以包含多个详细信息。
#### 授权请求

#### 接收响应

#### 请求分组
可以将请求进行分组，以便更好地测试和管理。

#### 变量使用

- [理解变量](https://learning.postman.com/docs/sending-requests/variables/#understanding-variables)

- [变量作用域](https://learning.postman.com/docs/sending-requests/variables/#variable-scopes)
	Global > Collection > Environment > Data > Local
    - Global
    - Collection
    - Environment
    - Data
    - Local

- [定义变量](https://learning.postman.com/docs/sending-requests/variables/#defining-variables)
  - 定义全局变量（Global）
  - 定义集合变量 （Collection）
  - 定义本地变量 （Local）
  - 在脚本中定义变量
	```javascript
	// 设置变量
	pm.globals.set("variable_key", "variable_value");
	pm.collectionVariables.set("variable_key", "variable_value");
	pm.environment.set("variable_key", "variable_value");
	// 移除变量
	pm.environment.unset("variable_key");
	```

- [访问变量](https://learning.postman.com/docs/sending-requests/variables/#accessing-variables)

- [共享和持久化数据](https://learning.postman.com/docs/sending-requests/variables/#sharing-and-persisting-data)

- [记录变量](https://learning.postman.com/docs/sending-requests/variables/#logging-variables)

- [使用数据变量](https://learning.postman.com/docs/sending-requests/variables/#using-data-variables)

- [使用动态变量](https://learning.postman.com/docs/sending-requests/variables/#using-dynamic-variables)

    `{{$guid}}`：添加一个GUID(GUID 的格式为“xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx”，其中每个 x 是 0-9 或 a-f 范围内的一个[十六进制数](https://baike.baidu.com/item/十六进制数)。例如：6f9619ff-8b86-d011-f42d-00c04fd964ff 即为有效的 GUID 值)

    `{{$timestamp}}`：将当前的时间戳，精确到秒

    `{{$randomInt}}`：添加0和1000之间的随机整数

    更多内置动态变量...

![Postman动态变量Random](https://images.gitee.com/uploads/images/2020/0806/205634_43860519_536895.png "Postman动态变量Random.png")


- [下一步](https://learning.postman.com/docs/sending-requests/variables/#next-steps)
    有关如何管理和共享变量数据集的概述，请参阅管理环境
    有关在请求脚本中使用变量的详细信息，请参阅脚本简介
    有关如何在请求之间使用数据的更多信息，请参阅集合中的请求分组

#### 环境管理

#### 可视化响应

#### 详细示例

#### 使用cookie
##### 管理cookie

##### 创建cookie
```
<cookieName>=<cookieValue>; path=/; domain=.domain.com; HttpOnly; Secure; Expires=Tue, 19 Jan 2038 03:14:07 GMT;
```
Postman支持以下属性：
- cookieName, cookieValue
	cookie的名称和存储在其中的值。
- Domain
	域名
- Path
- HttpOnly
- Secure 
	如果存在，cookie只在URL以`https://`开头时发送，不会通过不安全的连接发送。
- Expires

```javascript
// create a cookie jar
const cookieJar = pm.cookies.jar();

// create a cookie
cookieJar.set(URL, cookie name, cookie value, callback(error, cookie));

// create a PostmanCookie
cookieJar.set(URL, { name: cookie name, value: cookie value, httpOnly: true }, callback (error, cookie));
```

##### 获取cookie

```javascript
// get the created cookie
cookieJar.get(URL, cookie name, callback(error, cookie));

// get the created cookies
cookieJar.getAll(URL, callback(error, cookies));
```
##### 删除cookie
```javascript
// Delete the created cookie
cookieJar.unset(URL , cookie name, callback (error));

// delete the set cookies
cookieJar.clear(URL, callback (error));
```

#### 证书
- 添加证书
- 使用证书
- 删除证书
- 编辑证书
- 证书数据

#### 生成客户端代码

#### 请求故障排除

#### 请求数据捕获

#### API框架支持

### 编写脚本

#### 编写脚本

#### 编写预请求脚本

#### 编写测试用例
##### 测试脚本示例
###### 测试入门
要尝试首次编写测试脚本，请在Postman应用程序中打开一个请求，然后打开“Tests”选项卡。
输入以下JavaScript代码：
```javascript
pm.test("Status code is 200", function () {
  pm.response.to.have.status(200);
});
```
此代码使用`pm`库来运行测试方法。
此测试检查API返回的响应代码。
如果响应代码为200，则测试将通过，否则将失败。
单击Send并检查响应区域中的测试结果输出。

以下代码是使用`expect`语法实现与上述测试相同的另一种方法：
```javascript
pm.test("Status code is 200", () => {
  pm.expect(pm.response.code).to.eql(200);
});
```

###### 使用多个断言
```javascript
pm.test("The response has all properties", () => {
    //parse the response json and test three properties
    const responseJson = pm.response.json();
    pm.expect(responseJson.type).to.eql('vip');
    pm.expect(responseJson.name).to.be.a('string');
    pm.expect(responseJson.id).to.have.lengthOf(1);
});
```
###### 解析接口的响应数据
要解析JSON数据，请使用以下语法：
```javascript
const responseJson = pm.response.json();
```
要解析XML数据，请使用以下语法：
```javascript
const responseJson = xml2Json(pm.response.text());
```
解析CSV：
```javascript
const parse = require('csv-parse/lib/sync');
const responseJson = parse(pm.response.text());
```
解析HTML：
```javascript
const $ = cheerio.load(pm.response.text());
// 测试输出html
console.log($.html());
```
###### 处理不解析的响应数据
如果您无法将响应体解析为JavaScript，因为它的格式不是JSON、XML、HTML、CSV或任何其他可解析的数据格式，那么您仍然可以对数据进行断言。

您可以测试响应正文是否包含字符串：
```javascript
pm.test("Body contains string",() => {
  pm.expect(pm.response.text()).to.include("customer_id");
});
```
您还可以测试响应是否与字符串匹配（通常只对短响应有效）：
```javascript
pm.test("Body is string", function () {
  pm.response.to.have.body("whole-body-text");
});
```


#### 脚本引用

### 运行集合

#### 使用运行集合
集合运行器允许您按指定的顺序运行请求集。运行程序也可以在请求和日志请求之间传递数据。

**串行执行，无法用于并发测试。**

#### 使用监视器
您可以使用监视器来安排运行并接收请求测试结果的报告，从而自动化收集运行结果。

#### 请求工作流
所有请求都将按照您在Postman中看到它们的顺序运行。

#### 导入数据
可以导入数据文件（JSON或CSV）来批量设置Postman在运行过程中所需要使用的值。

### 使用Newman CLI
使用Newman在命令行上运行集合。

### Collaborating In Postman
### 设计和开发API
#### API生成器

#### 管理和共享API

#### 验证API

#### 模拟数据

#### 监控API

#### 报表分析

### 发布API
### 管理
### 开发者资源
#### Developing with Postman utilities
#### Postman API
集成Postman
#### Echo API
#### Collection SDK
#### Postman 运行库
#### 代码生成器库
#### Postman 集合转换

### 整合

### 快捷键

|标签	|MACOS|	Windows / Linux|
| ------ | ---- | ---- |
|打开新标签页|	⌘T	|Ctrl + T                              |
|关闭标签|	⌘W	|Ctrl + W                                  |
|切换到下一个选项卡|	⇧⌘]	|Ctrl + Shift +]                   |
|切换到上一个选项卡|	⇧⌘[	|Ctrl + Shift + [                  |
|切换到位置的标签|	⌘1至⌘8	|Ctrl + 1到Ctrl + 8            |
|切换到最后一个选项卡|	⌘9	|Ctrl + 9                      |
|从新栏中的侧栏打开请求|	⌥⌘（点击）	|Ctrl + Shift +（点击）|
|请求| -------- | -------- |
|请求URL|	⌘L	|Ctrl + L                                  |
|保存请求|	⌘S	|Ctrl + S                                  |
|保存请求为|	⇧⌘S	|Ctrl + Shift + S                          |
|发送请求|	⌘↵	|Ctrl + Enter                              |
|发送和下载请求|	⌥⌘↵	|Ctrl + Alt + Enter                    |
|滚动到请求|	⌥⌘↑	|Ctrl + Alt +↑                         |
|滚动到响应|	⌥⌘↓	|Ctrl + Alt +↓                         |
|美化原始请求体|	⌘B	|Ctrl + B                              |
|侧边栏| -------- | -------- |
|搜索侧栏|	⌘F	|Ctrl + F                                  |
|切换边栏|	⌘\	|Ctrl + \                                  |
|下一个项目|	↓	|↓                                         |
|上一个项目|	↑	|↑                                         |
|展开项目|	→	|→                                         |
|折叠项目|	←	|←                                         |
|选择项目|	↵	|↵                                         |
|重命名项|	⌘E	|Ctrl + E                                  |
|组项目|	⌘G	|Ctrl + G                                      |
|切项目|	⌘X	|Ctrl + X                                      |
|复制|	⌘C	|Ctrl + C                                      |
|粘贴|	⌘V	|Ctrl + V                                      |
|重复|	⌘D	|Ctrl + D                                      |
|删除项目|	⌫	|Delete                                    |
|接口| -------- | -------- |
|放大|	⌘+	|Ctrl + +                                      |
|缩小|	⌘ -	|Ctrl + -                                      |
|重置缩放|	⌘0	|Ctrl + 0                                  |
|切换双面视图|	⌥⌘V	|Ctrl + Alt + V                        |
|切换到边栏|	⌥⌘1	|Ctrl + Alt + 1                            |
|切换到生成器|	⌥⌘2	|Ctrl + Alt + 2                        |
|窗口| -------- | -------- |
|新请求窗口|	⌘N	|Ctrl + N                                  |
|新的运行窗口|	⇧⌘N	|Ctrl + Shift + N                      |
|新的控制台窗口|	⌥⌘C	|Ctrl + Alt + C                        |
|导入|	⌘O	|Ctrl + O                                      |
|管理环境|	⌥⌘E	|Ctrl + Alt + E                            |
|设置|	⌘，	|Ctrl +，                                      |
|提交|	⌘↵	|Ctrl + Enter                                  |
|打开快捷键帮助|	⌘/	|Ctrl + /                              |


### 参考
- https://learning.postman.com/docs/getting-started/introduction/
